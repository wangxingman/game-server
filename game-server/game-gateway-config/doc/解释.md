gateway


协议转换，路由转发
流量聚合，对流量进行监控，日志输出
作为整个系统的前端工程，对流量进行控制，有限流的作用
作为系统的前端边界，外部流量只能通过网关才能访问系统
可以在网关层做权限的判断
可以在网关层做缓存


路由

认证

熔断

限流
1、计算器的算法
思路：
一个请求进来开始计时，在接下去的1s内，每来一个请求，就把计数加1，如果累加的数字达到了100，
那么后续的请求就会被全部拒绝。等到1s结束后，把计数恢复成0，重新开始计数。
弊端：
如果我在单位时间1s内的前10ms，已经通过了100个请求，那后面的990ms，
只能眼巴巴的把请求拒绝，我们把这种现象称为“突刺现象”

2、漏桶算法
上面向桶里面加入请求，下面接口还是固定
实现 可用队列
无法应对短时间的突发流量

3、令牌桶算法

分布式锁
https://blog.csdn.net/forezp/article/details/68957681

可以准备一个队列，用来保存令牌，另外通过一个线程池定期生成令牌放到队列中，
每来一个请求，就从队列中获取一个令牌，并继续执行。

https://www.jianshu.com/p/1328898190e6

https://www.cnblogs.com/qianwei/p/10127700.html


